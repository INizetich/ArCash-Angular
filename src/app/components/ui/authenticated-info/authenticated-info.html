<div class="modal user-modal" 
     [class.show]="showModal" 
     (click)="onBackdropClick($event)"
     [attr.aria-hidden]="!showModal">
     
  <div class="modal-content user-modal-content" (click)="$event.stopPropagation()">
    <button class="close-modal" (click)="onCloseModal()" aria-label="Cerrar">×</button>
    
    <h3>Información del Usuario</h3>
    
    @if (user) {
      <div class="user-info">
        <div class="user-info-item">
          <span class="user-info-label">Nombre Completo:</span>
          <span class="user-info-value">{{ user.name }} {{ user.lastName }}</span>
        </div>
        <div class="user-info-item">
          <span class="user-info-label">Nombre de Usuario:</span>
          <span class="user-info-value">{{ user.username }}</span>
        </div>
        <div class="user-info-item">
          <span class="user-info-label">DNI:</span>
          <span class="user-info-value">{{ user.dni }}</span>
        </div>
        <div class="user-info-item">
          <span class="user-info-label">Email:</span>
          <span class="user-info-value">{{ user.email }}</span>
        </div>
        <div class="user-info-item">
          <span class="user-info-label">ID de Cuenta:</span>
          <span class="user-info-value">{{ user.idAccount || 'No asignado' }}</span>
        </div>
        <div class="user-info-item">
          <span class="user-info-label">Estado:</span>
          <span class="user-info-value" [class]="user.active ? 'estado-si' : 'estado-no'">
            {{ user.active ? 'Activo' : 'Inactivo' }}
          </span>
        </div>
        <div class="user-info-item">
          <span class="user-info-label">Habilitado:</span>
          <span class="user-info-value" [class]="user.enabled ? 'estado-si' : 'estado-no'">
            {{ user.enabled ? 'Sí' : 'No' }}
          </span>
        </div>
      </div>
      
      <div class="modal-actions">
        @if (user.active) {
          <button 
            class="inhabilitar-btn"
            (click)="onToggleUserStatus()">
            Deshabilitar Usuario
          </button>
        } @else {
          <button 
            class="habilitar-btn"
            (click)="onToggleUserStatus()">
            Habilitar Usuario
          </button>
        }
      </div>
    } @else {
      <div class="no-user-message">
        <p>No se pudo cargar la información del usuario.</p>
      </div>
    }
  </div>
</div>